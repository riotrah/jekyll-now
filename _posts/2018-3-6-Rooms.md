---
layout: post
title: On Rooms' Architecture
published: false
---
I promised myself I'd write about the architecture for *Rooms* this summer but a semester after and here I am with only 3 published posts and a handful more. I figured I'd try writing an evolving article detailing not just my architecture but the reasoning and learning behind the development of *Rooms* like all those cool kids working at the cool companies with their cool dev blogs. I also figure if something is particularly annoying to understand or set up I could create tutorials out of them instead of contriving instructional blog posts.

## How It Started

My friend Michael approached me a semester and summer ago with an idea for the [C3 Innovation Grant](https://www.nyu.edu/about/leadership-university-administration/university-senate/membership/councils/student-senators-council/campus-coding-collaborative.html). He was painfully aware of the far-too numerous study room-hosting buildings on campus and their different, disparately located reservation apps. 

He suggested a simple web frontend that just called the APIs.

Riding the energy of my then increasing autonomy and comfort with my project at NYU STIT, [Print Status](http://status.print.nyu.edu) I was interested in a more all-encompassing solution for students - something I'd want to use myself.

At the time I was quite obsessive about React - I'd been devouring Medium articles left and right even though I hadn't coded anything in it for some time. I became enamored with the idea of a Progressive Web App and how easy Create-React-App made building that - so my first suggestion was making the front end something usable for mobile and desktop users. Also - nobody has time for multiple code bases and app store updates.

Eventually we created a mvp for the project using none of the tech stack and are in the process of the final stage of the grant, but I decided, with Michael's blessing, to donate the project to my team so I could work on it in a fuller capacity with the support of a dedicated front end engineer and UX designer.

But between then and now, I've solidified the tech stack for the final product.

## The Stack

Progressive Web App powered by React
API Gateway + AWS Lambda trivialized by Serverless Framework
DynamoDB
CloudWatch + Grafana for metrics 
CodePipeline for CDCI

## Designing

The flip side of complete autonomy and creative freedom is lack of guidance and choice paralysis. But it's an exciting coin to flip either way!

I wanted to create an app the provided the following services:
- Reserve a room at any accessible location on campus
- Automatically exclude locations for which the student wasn't authorized to use (like Law Library rooms) without forcing the authorized students to use two - or more - apps
- Remember past and current reservations
- Provide a simply *better* experience for students
- Offer crowd-sourced data on the amenities available to a specific room
- Gather metrics for cool inferences for NYU!

To design the frontend I used a much lauded gem - [Figma](https://www.figma.com). I love this app so much. I have yet to convince our UX team to forego their years of experience with and wealth of plugins for Sketch so far but watch out! My excitement for WebAssembly can wait for another time.

I wanted to break out of NYU purple and some of the more sterile designs of our existing canonical web content. The current design ended up being more 'sexy' or 'modern' and less friendly or academic. 

I toyed with a few variations of the loading/landing page.
![](images/post_images/Rooms.png)
And a very pretentious icon

I wanted to evoke Bobst so I took a old photo from the design spec of Bobst's floor plan from the original designer's webpage... I think - I don't remember anymore. I might have to take an actual photo of the floor if I end up doing this design.

The home page demonstrates the two most important features 

I also designed a first draft of the search page - the bread and butter of this app.

## Frontend

I discussed the motivations behind PWAs above. They're just awesome. I don't think the app as of yet necessitates a store and we can probably get away with just passing everything as props but perhaps after a discussion with our designer that may change.



## Backend

Following the advice of my friend Cris I realized that I could have more fun learning a completely new paradigm of backend development - serverless. More specifically, *Serverless*... framework.

I decided on AWS Lambda to:
- Save money for my team
- Enable easy Alexa integration
- Challenge myself to think around a new paradigm of backend architecture
- Create a needlessly scalable service (for similar reasons to above)

At this point in time I realize that by using Serverless to abstract away API Gateway, Cloudformation and deployment defeats some of the purpose but I've done a few tutorials on manually setting up REST APIs and my team's funding is a function of how many buzzwords we can pitch so all is not lost!

